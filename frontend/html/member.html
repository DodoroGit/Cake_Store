<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>會員專區</title>
  <link rel="stylesheet" href="../assets/style.css" />
  <link rel="stylesheet" href="../assets/member.css" />
  <script src="../assets/member.js" defer></script>
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="logo">多巴胺甜點工作室</div>
      <ul class="nav-links">
        <li><a href="index.html">回到首頁</a></li>
        <li><a href="instagram.html">Instagram</a></li>
        <li><a href="line.html">Line</a></li>
        <li><a href="notice.html">訂購須知</a></li>
        <li><a href="flow.html">訂購流程</a></li>
        <li><a href="policy.html">退換貨政策</a></li>
        <li><a href="delivery.html">宅配專區</a></li>
      </ul>
      <div class="nav-actions">
        <a href="cart.html" class="member-btn">🛒 查看購物車</a>
        <a href="member.html" class="member-btn">會員專區</a>
      </div>
    </nav>
  </header>

  <div class="member-container">
    <h1>🎂 會員專區</h1>

    <!-- 會員資料區 -->
    <div id="profile" class="member-card">
      <h2>👤 會員資訊</h2>
      <div class="profile-row"><label for="name">名稱：</label><input id="name" /></div>
      <div class="profile-row"><label for="email">Email：</label><input id="email" /></div>
      <div class="profile-row"><label for="phone">手機：</label><input id="phone" /></div>
      <div class="profile-row"><label>身份：</label><span id="role"></span></div>
      <div style="display: flex; gap: 1rem; margin-top: 1rem;">
        <button onclick="updateProfile()">更新資料</button>
        <button id="logout-btn">登出</button>
      </div>
    </div>

    <!-- 訂單管理區 -->
    <div id="orders" class="member-card">
      <h2 id="order-title">🧾 我的訂單</h2>

      <!-- admin 排序下拉選單（user 不顯示） -->
      <div id="sort-controls" style="margin-bottom: 1rem; display: none;">
        <label for="sort-select"><strong>排序方式：</strong></label>
        <select id="sort-select">
          <option value="createdAt">按照建立時間</option>
          <option value="pickupDate">按照取貨日期</option>
          <option value="totalAmount">按照總金額</option>
          <option value="status">按照訂單狀態</option>
        </select>
      </div>

      <!-- 一般使用者訂單顯示區 -->
      <div id="order-list"></div>

      <!-- 商店主分三區塊（橫向排版） -->
      <div id="admin-order-section" class="admin-order-columns" style="display: none;">
        <div id="pending-orders">
          <h3>📮 等待接收</h3>
          <div class="order-list" id="order-list-pending"></div>
        </div>

        <div id="received-orders">
          <h3>💰 等待付款</h3>
          <div class="order-list" id="order-list-received"></div>
        </div>

        <div id="paid-orders">
          <h3>🛠 進行中</h3>
          <div class="order-list" id="order-list-paid"></div>
        </div>
      </div>

    </div>
  </div>
</body>
</html>
